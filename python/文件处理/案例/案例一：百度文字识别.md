# 提取图片里面的文字

首先安装第三方库：`baidu-aip`

```
import os
import sys
from aip import AipOcr

# 调用百度的识别文字
APP_ID = '24982348'
API_KEY = 'uhkv92LduCih9Tm4WAKnRBrO'
SECRET_KEY = '01bBePj5D44M8cdYCs1F4qCTyN9o7XYH'
client = AipOcr(APP_ID, API_KEY, SECRET_KEY)


# 直接参考官方SDK文档
def get_file_content(filePath):
    with open(filePath, 'rb') as fp:
        return fp.read()


# 批量处理图片
localdir = "D:/桌面/1"  # "D:/桌面/5G NR网络优化高级培训资料"
allfilenames = os.listdir(localdir)  # 获取该目录下所有文件
for filenames in allfilenames:
    if os.path.splitext(filenames)[1] in ['.png']:
        picabsolutepath = localdir + '/' + filenames
        image = get_file_content(picabsolutepath)  # 获取图片
        msg = client.basicGeneral(image)  # 调用API解析图片后生成一段信息储存在变量中
        try:
            for i in msg.get('words_result'):  # 生成的msg实际是一个字典加列表的混合体，此处我们只需要用到字符串
                with open('D:/桌面/test.txt', 'a', errors="ignore") as f:
                    f.write(i.get('words'))

        except:
            continue

```

参考资料：https://zhuanlan.zhihu.com/p/426925141